<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 5.2.7.2 (Linux)"/>
	<meta name="created" content="00:00:00"/>
	<meta name="changedby" content="Mark Grant"/>
	<meta name="changed" content="2019-03-29T14:23:10.534626957"/>
	<meta name="created" content="00:00:00">
	<meta name="changedby" content="Mark Grant">
	<meta name="changed" content="2019-03-29T08:45:56.919530792">
	<meta name="created" content="00:00:00">
	<meta name="changedby" content="Mark Grant">
	<meta name="changed" content="2019-03-29T08:45:03.488194086">
	<meta name="created" content="00:00:00">
	<meta name="changedby" content="Mark Grant">
	<meta name="changed" content="2019-03-29T08:44:23.750439427">
	<meta name="created" content="00:00:00">
	<meta name="changedby" content="Mark Grant">
	<meta name="changed" content="2019-03-29T08:37:00.423208459">
	<meta name="created" content="00:00:00">
	<meta name="changedby" content="Mark Grant">
	<meta name="changed" content="2018-03-13T16:01:06.927912951">
	<meta name="created" content="00:00:00">
	<meta name="changedby" content="Mark Grant">
	<meta name="changed" content="2018-03-13T15:55:55.376001058">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2017-08-18T14:28:42.372074454">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2017-05-11T15:05:04.788919659">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2016-06-13T14:27:55.710324709">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2015-12-12T10:18:46.511023545">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2015-12-12T10:17:38.337169121">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2015-12-12T10:13:17.065327884">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2015-12-12T10:10:17.039741563">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2015-12-12T10:07:53.216390783">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2015-12-12T10:06:44.719336138">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2015-12-12T10:04:37.502712059">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2015-12-12T10:02:57.483709311">
	<meta name="created" content="2015-12-12T09:37:03.193001702">
	<meta name="changed" content="2015-12-12T09:58:54.103027429">
	<style type="text/css">
		@page { margin: 2cm }
		p { margin-bottom: 0.25cm; line-height: 120% }
		h1 { margin-bottom: 0.21cm }
		h1.western { font-family: "Liberation Sans", sans-serif; font-size: 18pt }
		h1.cjk { font-family: "Droid Sans Fallback"; font-size: 18pt }
		h1.ctl { font-family: "FreeSans"; font-size: 18pt }
		a:link { so-language: zxx }
	</style>
</head>
<body lang="en-GB" dir="ltr">
<h1 class="western" align="center">Private Hosting Of AutoTools
Tarballs</h1>
<p align="left"><br/>
<br/>

</p>
<ol>
	<li/>
<p align="left">Move to, say, a parallel build directory,
	project-root/atbuild</p>
	<li/>
<p align="left">Ensure git is on the correct branch and is
	updated</p>
	<li/>
<p align="left">Make the source tarball</p>
	<ol type="a">
		<li/>
<p align="left">If the acmbuild package is installed</p>
		<ul>
			<li/>
<p align="left">acmbuild.sh -cT ..</p>
		</ul>
		<li/>
<p align="left">Or use the bootstrap.sh script</p>
		<ul>
			<li/>
<p align="left">../bootstrap.sh -cT ..</p>
		</ul>
		<li/>
<p align="left">make distclean</p>
	</ol>
	<li/>
<p align="left">Copy the tarball to the server</p>
	<ol type="a">
		<ul>
			<li/>
<p align="left">scp *.gz <a href="mailto:mgranthermes@hermes">mgrant@hermes</a>:staging</p>
		</ul>
	</ol>
	<li/>
<p align="left">Install the file in the tarball repository.</p>
	<ol type="a">
		<li/>
<p align="left">Logon to the server</p>
		<ul>
			<li/>
<p align="left">ssh mgrant@hermes</p>
		</ul>
		<li/>
<p align="left">Move to the directory used above.</p>
		<ul>
			<li/>
<p align="left">cd staging</p>
		</ul>
		<li/>
<p align="left">Optionally remove obsolete source tarballs</p>
		<ul>
			<li/>
<p align="left">sudo rm -v
			/srv/tarball-repos/source/&lt;package-name&gt;</p>
		</ul>
		<li/>
<p align="left">Move the tarball to the repository</p>
		<ul>
			<li/>
<p align="left">sudo cp -v * /srv/tarball-repos/source</p>
		</ul>
		<li/>
<p align="left">Remove the staged file.</p>
		<ul>
			<li/>
<p align="left">rm -v *</p>
		</ul>
	</ol>
	<li/>
<p align="left">Make the distribution tarball</p>
	<ol type="a">
		<li/>
<p align="left">If the acmbuild package is installed</p>
		<ul>
			<li/>
<p align="left">acmbuild.sh -cD ..</p>
		</ul>
		<li/>
<p align="left">Or use the bootstrap.sh script</p>
		<ul>
			<li/>
<p align="left">../bootstrap.sh -cD ..</p>
		</ul>
		<li/>
<p align="left">make distclean</p>
	</ol>
	<li/>
<p align="left">Copy the tarball to the server</p>
	<ol type="a">
		<ul>
			<li/>
<p align="left">scp *.gz <a href="mailto:mgranthermes@hermes">mgrant@hermes</a>:staging</p>
		</ul>
	</ol>
	<li/>
<p align="left">Install the file in the tarball repository.</p>
	<ol type="a">
		<li/>
<p align="left">Logon to the server</p>
		<ul>
			<li/>
<p align="left">ssh mgrant@hermes</p>
		</ul>
		<li/>
<p align="left">Move to the directory used above.</p>
		<ul>
			<li/>
<p align="left">cd staging</p>
		</ul>
		<li/>
<p align="left">Optionally remove obsolete distribution
		tarballs</p>
		<ul>
			<li/>
<p align="left">sudo rm -v
			/srv/tarball-repos/distribution/&lt;package-name&gt;</p>
		</ul>
		<li/>
<p align="left">Move the tarball to the repository</p>
	</ol>
</ol>
<ol>
	<ol type="a">
		<ul>
			<li/>
<p align="left">sudo cp -v * /srv/tarball-repos/distribution</p>
		</ul>
	</ol>
</ol>
<ol>
	<ol type="a" start="5">
		<li/>
<p align="left">Remove the staged file.</p>
		<ul>
			<li/>
<p align="left">rm -v *</p>
		</ul>
	</ol>
</ol>
</body>
</html>