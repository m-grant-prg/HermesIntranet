<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 5.2.7.2 (Linux)"/>
	<meta name="created" content="00:00:00"/>
	<meta name="changed" content="2017-09-08T15:30:25.555826964"/>
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2017-08-18T14:26:38.023683795">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2017-08-17T15:27:16.322418541">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2017-06-20T13:29:03.249866213">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2015-12-12T13:54:38.166937920">
	<meta name="created" content="00:00:00">
	<meta name="changed" content="2015-12-12T13:52:29.946581735">
	<meta name="created" content="2015-12-12T13:33:41.059217339">
	<meta name="changed" content="2015-12-12T13:51:02.247295351">
	<style type="text/css">
		@page { margin: 2cm }
		p { margin-bottom: 0.25cm; line-height: 120% }
		h1 { margin-bottom: 0.21cm }
		h1.western { font-family: "Liberation Sans", sans-serif; font-size: 18pt }
		h1.cjk { font-family: "Droid Sans Fallback"; font-size: 18pt }
		h1.ctl { font-family: "FreeSans"; font-size: 18pt }
	</style>
</head>
<body lang="en-GB" dir="ltr">
<h1 class="western" align="center">pbuilder-dist Environment Setup
Guide</h1>
<p align="left"><br/>
<br/>

</p>
<ol>
	<li/>
<p align="left">Set-up .pbuilderrc in your Home directory.</p>
	<ol type="a">
		<p align="left">PPA's can be added later in the chroot environment
		itself. In this file add other repositories to the OTHERMIRROR
		variable.</p>
		<li/>
<p align="left">OTHERMIRROR=&quot;deb http://hermes/aptrepo
		stretch stable&quot;</p>
		<p align="left">If 2 repositories were added see the example below,
		(Note the '|' delimiter).</p>
		<li/>
<p align="left">OTHERMIRROR=&quot;deb http://hermes/aptrepo
		zesty stable|\</p>
		<ul>
			<ul>
				<p align="left">deb
				http://ppa.launchpad.net/m-grant-prg/utils/ubuntu zesty main&quot;</p>
			</ul>
		</ul>
		<li/>
<p align="left">Save the file.</p>
	</ol>
	<li/>
<p align="left">Create the distribution base tarball.</p>
	<ol type="a">
		<li/>
<p align="left">pbuilder-dist stretch create
		--override-config --release-only</p>
	</ol>
	<li/>
<p align="left">Configure the chroot environment.</p>
	<ol type="a">
		<li/>
<p align="left">If doing this for the first time for a
		distribution you will need the output of the following command.</p>
		<ul>
			<li/>
<p align="left">dpkg-query -S $(which add-apt-repository)</p>
			<li/>
<p align="left">Output will be like:-</p>
			<ul>
				<p align="left">software-properties-common:
				/usr/bin/add-apt-repository</p>
			</ul>
		</ul>
		<li/>
<p align="left">Enter the pbuilder chroot.</p>
		<ul>
			<li/>
<p align="left">pbuilder-dist stretch login
			--save-after-login --override-config</p>
		</ul>
		<li/>
<p align="left">If doing this for the first time for a
		distribution.</p>
		<ul>
			<li/>
<p align="left">apt-get install software-properties-common</p>
			<li/>
<p align="left">apt-get install wget</p>
			<li/>
<p align="left">apt-get install gnupg2</p>
		</ul>
		<li/>
<p align="left">Add the required PPA repositories.</p>
		<ul>
			<li/>
<p align="left">add-apt-repository ppa:m-grant-prg/utils</p>
		</ul>
		<li/>
<p align="left">Add the other repositories and get their
		keys.</p>
		<ul>
			<li/>
<p align="left">add-apt-repository 'deb
			http://hermes/aptrepo/ stretch stable'</p>
		</ul>
	</ol>
</ol>
<ol>
	<ol type="a">
		<ul>
			<li/>
<p align="left">wget -O -
			<a href="http://hermes/aptrepo/conf/hermes-apt.gpg.key">http://hermes/aptrepo/conf/hermes.gpg</a>|apt-key
			add -</p>
		</ul>
	</ol>
</ol>
<ol>
	<ol type="a" start="6">
		<li/>
<p align="left">Exit chroot environment.</p>
		<ul>
			<li/>
<p align="left">exit</p>
		</ul>
		<li/>
<p align="left">Update the base package.</p>
		<ul>
			<li/>
<p align="left">pbuilder-dist stretch update --release-only
			--override-config</p>
		</ul>
	</ol>
</ol>
</body>
</html>