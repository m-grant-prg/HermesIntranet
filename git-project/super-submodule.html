<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 5.2.7.2 (Linux)"/>
	<meta name="created" content="00:00:00"/>
	<meta name="changedby" content="Mark Grant"/>
	<meta name="changed" content="2018-04-28T08:19:57.264916810"/>
	<style type="text/css">
		@page { margin: 2cm }
		p { margin-bottom: 0.25cm; line-height: 120% }
		h1 { margin-bottom: 0.21cm }
		h1.western { font-family: "Liberation Sans", sans-serif; font-size: 18pt }
		h1.cjk { font-family: "Droid Sans Fallback"; font-size: 18pt }
		h1.ctl { font-family: "FreeSans"; font-size: 18pt }
	</style>
</head>
<body lang="en-GB" dir="ltr">
<h1 class="western" align="center">Create A Super Repo With
Submodules</h1>
<p align="left"><br/>
<br/>

</p>
<p align="left">For example. Add a submodule called lib from a repo
called libmgec-lib.git to a super project called libmgec-super.</p>
<p align="left"><br/>
<br/>

</p>
<ol>
	<li/>
<p align="left">Create the super project.</p>
	<ol type="a">
		<li/>
<p align="left">mkdir libmgec-super</p>
		<li/>
<p align="left">cd libmgec-super</p>
		<li/>
<p align="left">git init</p>
		<li/>
<p align="left">Probably add a gitignore file and commit.</p>
		<li/>
<p align="left">Add remotes</p>
		<li/>
<p align="left">push â€“set-upstream origin master</p>
	</ol>
	<li/>
<p align="left">Make git status show extra submodule info.</p>
	<ol type="a">
		<li/>
<p align="left">git config status.submodulesummary 1</p>
	</ol>
	<li/>
<p align="left">Make git diff show commit list for dirty
	submodules. (This is a global git command so only needs to be done
	once per user).</p>
	<ol type="a">
		<li/>
<p align="left">git config --global diff.submodule log</p>
	</ol>
	<li/>
<p align="left">Add submodule. Specify a remote that is most
	accessible for other contributors, so in this case github.</p>
	<ol type="a">
		<li/>
<p align="left">git submodule add
		https://github.com/m-grant-prg/libmgec-lib.git lib</p>
	</ol>
	<li/>
<p align="left">Rather than use github yourself, setup a local
	remote.</p>
	<ol type="a">
		<li/>
<p align="left">git config submodule.lib.url
		<a href="mailto:git@hermes">git@hermes</a>:/srv/git/C/libmgec-lib.git</p>
	</ol>
	<li/>
<p align="left">Commit</p>
	<li/>
<p align="left">Add / adjust remotes.</p>
	<li/>
<p align="left">push --set-upstream</p>
	<li/>
<p align="left">Adjust the submodule.</p>
	<ol type="a">
		<li/>
<p align="left">cd lib</p>
		<li/>
<p align="left">Add / adjust remotes.</p>
		<li/>
<p align="left">push --set-upstream</p>
		<li/>
<p align="left">Add desired branches.</p>
	</ol>
	<li/>
<p align="left">Add super project branches.</p>
	<li/>
<p align="left">Repeat for any other submodules.</p>
</ol>
</body>
</html>